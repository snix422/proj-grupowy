{"ast":null,"code":"import _toConsumableArray from\"C:/Users/justy/OneDrive/Pulpit/NAUKA/SEMESTR VII/Projekt zespo\\u0142owy/Ksiegarnia/Ksiegarnia/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/justy/OneDrive/Pulpit/NAUKA/SEMESTR VII/Projekt zespo\\u0142owy/Ksiegarnia/Ksiegarnia/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import NavBar from\"./NavBar\";import Footer from\"./Footer\";import{useContext,useEffect,useState}from\"react\";import KoszykContext from\"../Context/KoszykContext\";import{useNavigate}from\"react-router-dom\";import\"../../css/Koszyk.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Koszyk=function Koszyk(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEmptyBin=_useState2[0],setisEmptyBin=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),items=_useState4[0],setItems=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),sumAll=_useState6[0],setSumAll=_useState6[1];var sum=0;var navigate=useNavigate();var context=useContext(KoszykContext);useEffect(function(){setItems(_toConsumableArray(context.item));console.log(context.item);if(context.item.length>=1){setisEmptyBin(true);}else if(context.item.length==0){setisEmptyBin(false);}},[]);var buy=function buy(){navigate('/transakcja');};console.log(items);console.log(context.sum);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"koszyk\",children:isEmptyBin===false?/*#__PURE__*/_jsx(\"span\",{children:\"Koszyk jest pusty\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"koszyk-item\",children:[\"  \",context.item.map(function(item,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"item-koszyk\",children:[/*#__PURE__*/_jsx(\"span\",{children:item.title}),/*#__PURE__*/_jsx(\"span\",{children:item.price}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){var ind=context.item.indexOf(item);console.log(ind);var arr=context.item.splice(index,1);setItems(_toConsumableArray(arr));if(context.item.length==0){setisEmptyBin(false);}},className:\"btn btn-danger\",children:\"X\"})]})});}),/*#__PURE__*/_jsx(\"button\",{onClick:buy,className:\"btn btn-success\",children:\"Zap\\u0142a\\u0107\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"price\",children:[\"Do zap\\u0142aty: \",context.sum]})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Koszyk;","map":{"version":3,"names":["NavBar","Footer","useContext","useEffect","useState","KoszykContext","useNavigate","Koszyk","isEmptyBin","setisEmptyBin","items","setItems","sumAll","setSumAll","sum","navigate","context","item","console","log","length","buy","map","index","title","price","e","ind","indexOf","arr","splice"],"sources":["C:/Users/justy/OneDrive/Pulpit/NAUKA/SEMESTR VII/Projekt zespołowy/Ksiegarnia/Ksiegarnia/frontend/src/components/website-items/Koszyk.js"],"sourcesContent":["import NavBar from \"./NavBar\";\r\nimport Footer from \"./Footer\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport KoszykContext from \"../Context/KoszykContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../../css/Koszyk.css\"\r\n\r\nconst Koszyk = () => {\r\n\r\n    const [isEmptyBin , setisEmptyBin] = useState(false);\r\n    const [items, setItems] = useState([]);\r\n    const [sumAll, setSumAll] = useState(0);\r\n   \r\n    let sum=0;\r\n  \r\n    const navigate = useNavigate();\r\n\r\n\r\n    \r\n\r\n  \r\n   \r\n\r\n    const context = useContext(KoszykContext);\r\n    \r\n    useEffect(()=> {\r\n        setItems([...context.item])\r\n        console.log(context.item);\r\n        if(context.item.length >= 1){\r\n            setisEmptyBin(true);\r\n        }else if(context.item.length == 0){\r\n            setisEmptyBin(false);\r\n        }\r\n    },[])\r\n\r\n   const buy = () => {\r\n    navigate('/transakcja');\r\n   }\r\n\r\n   \r\n\r\n\r\n\r\n  \r\n   \r\n\r\n \r\n\r\n    console.log(items);\r\n    console.log(context.sum);\r\n    \r\n   \r\n       \r\n    \r\n   \r\n    return(\r\n    <>\r\n    <NavBar />\r\n    <div className=\"koszyk\">\r\n        {isEmptyBin === false ? <span>Koszyk jest pusty</span> : <div className=\"koszyk-item\">  {context.item.map((item,index)=>{\r\n            \r\n           \r\n            return(\r\n                <><div className=\"item-koszyk\"><span>{item.title}</span><span>{item.price}</span><button onClick={(e) => {\r\n                  \r\n                   \r\n                    const ind = context.item.indexOf(item);\r\n                    console.log(ind);\r\n                    const arr = (context.item).splice(index,1);\r\n                    setItems([...arr]);\r\n                    if(context.item.length == 0){\r\n                        setisEmptyBin(false);\r\n                    }\r\n                   \r\n                    \r\n                }} className=\"btn btn-danger\">X</button></div></>\r\n                \r\n            )\r\n        })}\r\n        <button onClick={buy} className=\"btn btn-success\">Zapłać</button>\r\n        <span className=\"price\">Do zapłaty: {context.sum}</span>\r\n        </div>} \r\n    </div>\r\n    <Footer />\r\n    </>\r\n    )\r\n}\r\n\r\nexport default Koszyk"],"mappings":"gYAAA,MAAOA,OAAP,KAAmB,UAAnB,CACA,MAAOC,OAAP,KAAmB,UAAnB,CACA,OAAQC,UAAR,CAAoBC,SAApB,CAA+BC,QAA/B,KAA8C,OAA9C,CACA,MAAOC,cAAP,KAA0B,0BAA1B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAO,sBAAP,C,6IAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CAEjB,cAAqCH,QAAQ,CAAC,KAAD,CAA7C,wCAAOI,UAAP,eAAoBC,aAApB,eACA,eAA0BL,QAAQ,CAAC,EAAD,CAAlC,yCAAOM,KAAP,eAAcC,QAAd,eACA,eAA4BP,QAAQ,CAAC,CAAD,CAApC,yCAAOQ,MAAP,eAAeC,SAAf,eAEA,GAAIC,IAAG,CAAC,CAAR,CAEA,GAAMC,SAAQ,CAAGT,WAAW,EAA5B,CAQA,GAAMU,QAAO,CAAGd,UAAU,CAACG,aAAD,CAA1B,CAEAF,SAAS,CAAC,UAAK,CACXQ,QAAQ,oBAAKK,OAAO,CAACC,IAAb,EAAR,CACAC,OAAO,CAACC,GAAR,CAAYH,OAAO,CAACC,IAApB,EACA,GAAGD,OAAO,CAACC,IAAR,CAAaG,MAAb,EAAuB,CAA1B,CAA4B,CACxBX,aAAa,CAAC,IAAD,CAAb,CACH,CAFD,IAEM,IAAGO,OAAO,CAACC,IAAR,CAAaG,MAAb,EAAuB,CAA1B,CAA4B,CAC9BX,aAAa,CAAC,KAAD,CAAb,CACH,CACJ,CARQ,CAQP,EARO,CAAT,CAUD,GAAMY,IAAG,CAAG,QAANA,IAAM,EAAM,CACjBN,QAAQ,CAAC,aAAD,CAAR,CACA,CAFD,CAaCG,OAAO,CAACC,GAAR,CAAYT,KAAZ,EACAQ,OAAO,CAACC,GAAR,CAAYH,OAAO,CAACF,GAApB,EAMA,mBACA,wCACA,KAAC,MAAD,IADA,cAEA,YAAK,SAAS,CAAC,QAAf,UACKN,UAAU,GAAK,KAAf,cAAuB,2CAAvB,cAAwD,aAAK,SAAS,CAAC,aAAf,gBAAgCQ,OAAO,CAACC,IAAR,CAAaK,GAAb,CAAiB,SAACL,IAAD,CAAMM,KAAN,CAAc,CAGpH,mBACI,sCAAE,aAAK,SAAS,CAAC,aAAf,wBAA6B,sBAAON,IAAI,CAACO,KAAZ,EAA7B,cAAsD,sBAAOP,IAAI,CAACQ,KAAZ,EAAtD,cAA+E,eAAQ,OAAO,CAAE,iBAACC,CAAD,CAAO,CAGrG,GAAMC,IAAG,CAAGX,OAAO,CAACC,IAAR,CAAaW,OAAb,CAAqBX,IAArB,CAAZ,CACAC,OAAO,CAACC,GAAR,CAAYQ,GAAZ,EACA,GAAME,IAAG,CAAIb,OAAO,CAACC,IAAT,CAAea,MAAf,CAAsBP,KAAtB,CAA4B,CAA5B,CAAZ,CACAZ,QAAQ,oBAAKkB,GAAL,EAAR,CACA,GAAGb,OAAO,CAACC,IAAR,CAAaG,MAAb,EAAuB,CAA1B,CAA4B,CACxBX,aAAa,CAAC,KAAD,CAAb,CACH,CAGJ,CAZgF,CAY9E,SAAS,CAAC,gBAZoE,eAA/E,GAAF,EADJ,CAgBH,CAnBwF,CAAhC,cAoBzD,eAAQ,OAAO,CAAEY,GAAjB,CAAsB,SAAS,CAAC,iBAAhC,8BApByD,cAqBzD,cAAM,SAAS,CAAC,OAAhB,+BAAqCL,OAAO,CAACF,GAA7C,GArByD,GAD7D,EAFA,cA2BA,KAAC,MAAD,IA3BA,GADA,CA+BH,CA/ED,CAiFA,cAAeP,OAAf"},"metadata":{},"sourceType":"module"}