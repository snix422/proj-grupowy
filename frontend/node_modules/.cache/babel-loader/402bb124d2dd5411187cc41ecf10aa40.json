{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/ProjektKsiegarniaJustyna/Ksiegarnia/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import NavBar from\"./NavBar\";import Footer from\"./Footer\";import LoginForm from\"./LoginForm\";import{useNavigate}from\"react-router-dom\";import{Link}from\"react-router-dom\";import data from\"../../data\";import{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Zaloguj=function Zaloguj(){var navigate=useNavigate();var UserData=data.users;var _useState=useState({email:\"\",password:\"\",isAdmin:false}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var Login=function Login(details){console.log(details);for(var i=0;i<UserData.length;i++){if(details.email==UserData[i].email&&details.password==UserData[i].password&&details.isAdmin==UserData[i].isAdmin){console.log(\"Logged in\");setUser({email:details.email,password:details.password,isAdmin:false});navigate(\"/profile\");}else if(details.email==UserData[i].email&&details.password==UserData[i].password&&UserData[i].isAdmin==true){setUser({email:details.email,password:details.password,isAdmin:true});navigate(\"/profileAdmin\");}else{console.log(\"error\");setError(\"Error\");}}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"zaloguj\",children:user.email!=\"\"&&user.isAdmin!=false?/*#__PURE__*/_jsx(\"div\",{}):/*#__PURE__*/_jsx(LoginForm,{Login:Login,error:error})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Zaloguj;","map":{"version":3,"names":["NavBar","Footer","LoginForm","useNavigate","Link","data","useState","useEffect","Zaloguj","navigate","UserData","users","email","password","isAdmin","user","setUser","error","setError","Login","details","console","log","i","length"],"sources":["C:/xampp/htdocs/ProjektKsiegarniaJustyna/Ksiegarnia/frontend/src/components/website-items/Zaloguj.js"],"sourcesContent":["import NavBar from \"./NavBar\";\r\nimport Footer from \"./Footer\";\r\nimport LoginForm from \"./LoginForm\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {Link } from \"react-router-dom\";\r\nimport data from \"../../data\"\r\nimport { useState, useEffect } from \"react\";\r\n\r\n\r\nconst Zaloguj = () => {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const UserData = data.users;\r\n\r\n    const[user, setUser] = useState({email:\"\", password:\"\",isAdmin: false});\r\n    const[error, setError] = useState(\"\");\r\n\r\n    const Login = details => {\r\n        console.log(details);\r\n\r\n        for (let i = 0; i < UserData.length; i++){\r\n        if(details.email == UserData[i].email && details.password == UserData[i].password && details.isAdmin == UserData[i].isAdmin){\r\n            console.log(\"Logged in\")\r\n            setUser({\r\n                email: details.email,\r\n                password: details.password,\r\n                isAdmin: false \r\n            });\r\n            \r\n            navigate(\"/profile\");\r\n        }else if(details.email == UserData[i].email && details.password == UserData[i].password && UserData[i].isAdmin == true){\r\n            setUser({\r\n                email: details.email,\r\n                password: details.password,\r\n                isAdmin: true\r\n            });\r\n            \r\n            navigate(\"/profileAdmin\");\r\n        }\r\n        else{\r\n            console.log(\"error\")\r\n            setError(\"Error\")\r\n\r\n\r\n        }\r\n        }\r\n    }\r\n    \r\n\r\n\r\n    return (\r\n        <>\r\n        <NavBar />\r\n        <div className=\"zaloguj\">\r\n            {(user.email != \"\" && user.isAdmin != false)? (<div></div>):\r\n            (<LoginForm Login={Login} error={error}/>)}\r\n        </div>\r\n        <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Zaloguj"],"mappings":"kJAAA,MAAOA,OAAP,KAAmB,UAAnB,CACA,MAAOC,OAAP,KAAmB,UAAnB,CACA,MAAOC,UAAP,KAAsB,aAAtB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAAQC,IAAR,KAAoB,kBAApB,CACA,MAAOC,KAAP,KAAiB,YAAjB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,C,6IAGA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CAElB,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CAEA,GAAMO,SAAQ,CAAGL,IAAI,CAACM,KAAtB,CAEA,cAAuBL,QAAQ,CAAC,CAACM,KAAK,CAAC,EAAP,CAAWC,QAAQ,CAAC,EAApB,CAAuBC,OAAO,CAAE,KAAhC,CAAD,CAA/B,wCAAMC,IAAN,eAAYC,OAAZ,eACA,eAAyBV,QAAQ,CAAC,EAAD,CAAjC,yCAAMW,KAAN,eAAaC,QAAb,eAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,CAAAC,OAAO,CAAI,CACrBC,OAAO,CAACC,GAAR,CAAYF,OAAZ,EAEA,IAAK,GAAIG,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGb,QAAQ,CAACc,MAA7B,CAAqCD,CAAC,EAAtC,CAAyC,CACzC,GAAGH,OAAO,CAACR,KAAR,EAAiBF,QAAQ,CAACa,CAAD,CAAR,CAAYX,KAA7B,EAAsCQ,OAAO,CAACP,QAAR,EAAoBH,QAAQ,CAACa,CAAD,CAAR,CAAYV,QAAtE,EAAkFO,OAAO,CAACN,OAAR,EAAmBJ,QAAQ,CAACa,CAAD,CAAR,CAAYT,OAApH,CAA4H,CACxHO,OAAO,CAACC,GAAR,CAAY,WAAZ,EACAN,OAAO,CAAC,CACJJ,KAAK,CAAEQ,OAAO,CAACR,KADX,CAEJC,QAAQ,CAAEO,OAAO,CAACP,QAFd,CAGJC,OAAO,CAAE,KAHL,CAAD,CAAP,CAMAL,QAAQ,CAAC,UAAD,CAAR,CACH,CATD,IASM,IAAGW,OAAO,CAACR,KAAR,EAAiBF,QAAQ,CAACa,CAAD,CAAR,CAAYX,KAA7B,EAAsCQ,OAAO,CAACP,QAAR,EAAoBH,QAAQ,CAACa,CAAD,CAAR,CAAYV,QAAtE,EAAkFH,QAAQ,CAACa,CAAD,CAAR,CAAYT,OAAZ,EAAuB,IAA5G,CAAiH,CACnHE,OAAO,CAAC,CACJJ,KAAK,CAAEQ,OAAO,CAACR,KADX,CAEJC,QAAQ,CAAEO,OAAO,CAACP,QAFd,CAGJC,OAAO,CAAE,IAHL,CAAD,CAAP,CAMAL,QAAQ,CAAC,eAAD,CAAR,CACH,CARK,IASF,CACAY,OAAO,CAACC,GAAR,CAAY,OAAZ,EACAJ,QAAQ,CAAC,OAAD,CAAR,CAGH,CACA,CACJ,CA7BD,CAiCA,mBACI,wCACA,KAAC,MAAD,IADA,cAEA,YAAK,SAAS,CAAC,SAAf,UACMH,IAAI,CAACH,KAAL,EAAc,EAAd,EAAoBG,IAAI,CAACD,OAAL,EAAgB,KAArC,cAA8C,cAA9C,cACA,KAAC,SAAD,EAAW,KAAK,CAAEK,KAAlB,CAAyB,KAAK,CAAEF,KAAhC,EAFL,EAFA,cAMA,KAAC,MAAD,IANA,GADJ,CAUH,CApDD,CAsDA,cAAeT,QAAf"},"metadata":{},"sourceType":"module"}