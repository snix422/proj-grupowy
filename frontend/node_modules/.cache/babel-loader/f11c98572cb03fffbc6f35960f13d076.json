{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/ProjektKsiegarniaJustyna/Ksiegarnia/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import\"../../css/Newsletter.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Newsletter=function Newsletter(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),inputSend=_useState2[0],setinputSend=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newsletter=_useState4[0],setNewsletter=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];function validateEmail(email){var res=/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return res.test(email);}var send=function send(){if(newsletter.length<1){setError('To pole jest wymagane. Wpisz swój e-mail');}else{if(validateEmail(newsletter)){setinputSend(false);setError('');}else{setError('Wpisz poprawny e-mail');}}};var ok=function ok(){setinputSend(true);};var takeValue=function takeValue(e){setNewsletter(e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"newsletter\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Zapisz si\\u0119 na newsletter\"}),/*#__PURE__*/_jsx(\"input\",{value:newsletter,onChange:takeValue,className:\"form-control \".concat(error?'is-invalid':null),type:\"email\",placeholder:\"Wpisz sw\\xF3j e-mail\"}),/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:send,children:\"Wy\\u015Blij\"}),inputSend?null:/*#__PURE__*/_jsxs(\"div\",{className:\"newsletter-info\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Zosta\\u0142e\\u015B zapisany do newslettera\"}),/*#__PURE__*/_jsx(\"button\",{className:\"ok\",onClick:ok,children:\"Ok\"})]})]});};export default Newsletter;","map":{"version":3,"names":["useState","useEffect","Newsletter","inputSend","setinputSend","newsletter","setNewsletter","error","setError","validateEmail","email","res","test","send","length","ok","takeValue","e","target","value"],"sources":["C:/xampp/htdocs/ProjektKsiegarniaJustyna/Ksiegarnia/frontend/src/components/website-items/Newsletter.js"],"sourcesContent":["import {useState, useEffect} from 'react';\r\nimport \"../../css/Newsletter.css\";\r\n\r\nconst Newsletter = () => {\r\n\r\n    const [inputSend, setinputSend] = useState(true);\r\n    const [newsletter, setNewsletter] =  useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    function validateEmail(email) {\r\n        const res = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return res.test(email);\r\n      }\r\n\r\n    const send = () => {\r\n       \r\n        if(newsletter.length < 1){\r\n            setError('To pole jest wymagane. Wpisz swój e-mail');\r\n        }else{\r\n            if(validateEmail(newsletter)){\r\n                setinputSend(false);\r\n                setError('');\r\n            }\r\n            else{\r\n                setError('Wpisz poprawny e-mail')\r\n            }\r\n        }\r\n    }\r\n\r\n    const ok = () => {\r\n        setinputSend(true)\r\n    }\r\n\r\n    const takeValue = (e) => {\r\n        setNewsletter(e.target.value);\r\n    }\r\n\r\n   \r\n\r\n    return (\r\n        <div className=\"newsletter\">\r\n            <span>Zapisz się na newsletter</span>\r\n            <input value={newsletter} onChange={takeValue} className={`form-control ${error ? 'is-invalid' : null}`}type=\"email\" placeholder=\"Wpisz swój e-mail\"></input>\r\n            <div className='invalid-feedback'>{error}</div>\r\n            <button onClick={send}>Wyślij</button>\r\n            {inputSend ? null : <div className=\"newsletter-info\"><span>Zostałeś zapisany do newslettera</span><button className='ok' onClick={ok}>Ok</button></div>}\r\n        </div>\r\n        \r\n        \r\n    )\r\n}\r\n\r\nexport default Newsletter\r\n\r\n"],"mappings":"kJAAA,OAAQA,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,MAAO,0BAAP,C,wFAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CAErB,cAAkCF,QAAQ,CAAC,IAAD,CAA1C,wCAAOG,SAAP,eAAkBC,YAAlB,eACA,eAAqCJ,QAAQ,CAAC,EAAD,CAA7C,yCAAOK,UAAP,eAAmBC,aAAnB,eACA,eAA0BN,QAAQ,CAAC,EAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eAEA,QAASC,cAAT,CAAuBC,KAAvB,CAA8B,CAC1B,GAAMC,IAAG,CAAG,yJAAZ,CACA,MAAOA,IAAG,CAACC,IAAJ,CAASF,KAAT,CAAP,CACD,CAEH,GAAMG,KAAI,CAAG,QAAPA,KAAO,EAAM,CAEf,GAAGR,UAAU,CAACS,MAAX,CAAoB,CAAvB,CAAyB,CACrBN,QAAQ,CAAC,0CAAD,CAAR,CACH,CAFD,IAEK,CACD,GAAGC,aAAa,CAACJ,UAAD,CAAhB,CAA6B,CACzBD,YAAY,CAAC,KAAD,CAAZ,CACAI,QAAQ,CAAC,EAAD,CAAR,CACH,CAHD,IAII,CACAA,QAAQ,CAAC,uBAAD,CAAR,CACH,CACJ,CACJ,CAbD,CAeA,GAAMO,GAAE,CAAG,QAALA,GAAK,EAAM,CACbX,YAAY,CAAC,IAAD,CAAZ,CACH,CAFD,CAIA,GAAMY,UAAS,CAAG,QAAZA,UAAY,CAACC,CAAD,CAAO,CACrBX,aAAa,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,CACH,CAFD,CAMA,mBACI,aAAK,SAAS,CAAC,YAAf,wBACI,uDADJ,cAEI,cAAO,KAAK,CAAEd,UAAd,CAA0B,QAAQ,CAAEW,SAApC,CAA+C,SAAS,wBAAkBT,KAAK,CAAG,YAAH,CAAkB,IAAzC,CAAxD,CAAwG,IAAI,CAAC,OAA7G,CAAqH,WAAW,CAAC,sBAAjI,EAFJ,cAGI,YAAK,SAAS,CAAC,kBAAf,UAAmCA,KAAnC,EAHJ,cAII,eAAQ,OAAO,CAAEM,IAAjB,yBAJJ,CAKKV,SAAS,CAAG,IAAH,cAAU,aAAK,SAAS,CAAC,iBAAf,wBAAiC,oEAAjC,cAA8E,eAAQ,SAAS,CAAC,IAAlB,CAAuB,OAAO,CAAEY,EAAhC,gBAA9E,GALxB,GADJ,CAWH,CA/CD,CAiDA,cAAeb,WAAf"},"metadata":{},"sourceType":"module"}