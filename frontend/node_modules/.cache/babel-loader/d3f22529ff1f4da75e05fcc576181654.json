{"ast":null,"code":"var _jsxFileName = \"E:\\\\ks-grupowy\\\\Ksiegarnia-main\\\\frontend\\\\src\\\\screens\\\\ProductScreen.js\",\n    _s = $RefreshSig$();\n\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useContext, useEffect, useReducer } from \"react\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport Badge from \"react-bootstrap/Badge\";\nimport Button from \"react-bootstrap/Button\";\nimport Rating from \"../components/Rating\";\nimport { Helmet } from \"react-helmet-async\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { getError } from \"../utils\";\nimport { Store } from \"../Store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"FETCH_REQUEST\":\n      return { ...state,\n        loading: true\n      };\n\n    case \"FETCH_SUCCESS\":\n      return { ...state,\n        product: action.payload,\n        loading: false\n      };\n\n    case \"FETCH_FAIL\":\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nfunction ProductScreen() {\n  _s();\n\n  const navigate = useNavigate();\n  const params = useParams();\n  const {\n    slug\n  } = params;\n  const [{\n    loading,\n    error,\n    product\n  }, dispatch] = useReducer(reducer, {\n    product: [],\n    loading: true,\n    error: \"\"\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({\n        type: \"FETCH_REQUEST\"\n      });\n\n      try {\n        const result = await axios.get(`/api/products/slug/${slug}`);\n        dispatch({\n          type: \"FETCH_SUCCESS\",\n          payload: result.data\n        });\n      } catch (err) {\n        dispatch({\n          type: \"FETCH_FAIL\",\n          payload: getError(err)\n        });\n      }\n    };\n\n    fetchData();\n  }, [slug]);\n  const {\n    state,\n    dispatch: ctxDispatch\n  } = useContext(Store);\n  const {\n    cart\n  } = state;\n\n  const addToCartHandler = async () => {\n    const existItem = cart.cartItems.find(x => x._id === product._id);\n    const quantity = existItem ? existItem.quantity + 1 : 1;\n    const {\n      data\n    } = await axios.get(`/api/products/${product._id}`);\n\n    if (data.countInStock < quantity) {\n      window.alert(\"Przepraszamy, produkt nie znajduje się w magazynie\");\n      return;\n    }\n\n    ctxDispatch({\n      type: \"CART_ADD_ITEM\",\n      payload: { ...product,\n        quantity\n      }\n    });\n    navigate(\"/cart\");\n  };\n\n  return loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 24\n  }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n    variant: \"danger\",\n    children: [\" \", error, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 19\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"img-large\",\n          src: product.image,\n          alt: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"star-1\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: useRadio,\n              id: \"first\",\n              name: \"first\",\n              value: \"first\",\n              type: \"radio\",\n              checked: radio === 'first'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 46\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 36\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar,\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"1.0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 58\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"star-2\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: useRadio,\n              id: \"second\",\n              name: \"second\",\n              value: \"second\",\n              type: \"radio\",\n              checked: radio === 'second'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 46\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 36\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar,\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 58\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" 2.0 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 89\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 84\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"star-3\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: useRadio,\n              id: \"third\",\n              name: \"third\",\n              value: \"third\",\n              type: \"radio\",\n              checked: radio === 'third'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 46\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 36\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar,\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 58\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar,\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 89\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"3.0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 126\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"star-4\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: useRadio,\n              id: \"four\",\n              name: \"four\",\n              value: \"four\",\n              type: \"radio\",\n              checked: radio === 'four'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 46\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 36\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar,\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 58\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar,\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 89\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 126\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" 4.0 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 157\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 152\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"star-5\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: useRadio,\n              id: \"five\",\n              name: \"five\",\n              value: \"five\",\n              type: \"radio\",\n              checked: radio === 'five'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 46\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 36\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar,\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 58\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar,\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 89\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 126\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgGoldStar,\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 157\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"5.0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 194\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: markBook,\n          children: \" Wy\\u015Blij ocen\\u0119 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 220\n        }, this), \" \", showInfoBook === true ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-success\",\n            children: \" Ksi\\u0105\\u017Cka zosta\\u0142a oceniona \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: displayAlert,\n            children: \"Ok\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 115\n          }, this), \" \"]\n        }, void 0, true) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: [/*#__PURE__*/_jsxDEV(ListGroup, {\n          variant: \"flush\",\n          children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [/*#__PURE__*/_jsxDEV(Helmet, {\n              children: [/*#__PURE__*/_jsxDEV(\"title\", {\n                children: [\" \", product.title, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: [\" \", product.title, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 26\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 17\n          }, this), \" \", /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [/*#__PURE__*/_jsxDEV(Rating, {\n              rating: product.rating,\n              numReviews: product.numReviews\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 34\n          }, this), \" \", /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [\" Cena: \", product.price, \"PLN \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 34\n          }, this), \" \", /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [\"Opis:\", /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\" \", product.description, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 36\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 19\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \" Cena: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 17\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n                    children: [\" PLN \", product.price, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 37\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 17\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \" Status: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 17\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n                    children: [\" \", product.countInStock > 0 ? /*#__PURE__*/_jsxDEV(Badge, {\n                      bg: \"success\",\n                      children: \" W Magazynie \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 50\n                    }, this) : /*#__PURE__*/_jsxDEV(Badge, {\n                      bg: \"danger\",\n                      children: \" Niedost\\u0119pne \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 27\n                    }, this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 39\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 17\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 34\n              }, this), product.countInStock > 0 && /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-grid\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: addToCartHandler,\n                    variant: \"primary\",\n                    children: \"Dodaj do koszyka \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 21\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 21\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 47\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 17\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 17\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 23\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 11\n  }, this);\n}\n\n_s(ProductScreen, \"eaiENlE4Ci1Eo1d9HrU1F7DQ8i4=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = ProductScreen;\nexport default ProductScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductScreen\");","map":{"version":3,"names":["useNavigate","useParams","axios","useContext","useEffect","useReducer","Row","Col","Card","ListGroup","Badge","Button","Rating","Helmet","LoadingBox","MessageBox","getError","Store","reducer","state","action","type","loading","product","payload","error","ProductScreen","navigate","params","slug","dispatch","fetchData","result","get","data","err","ctxDispatch","cart","addToCartHandler","existItem","cartItems","find","x","_id","quantity","countInStock","window","alert","image","name","useRadio","radio","imgGoldStar","markBook","showInfoBook","displayAlert","title","rating","numReviews","price","description"],"sources":["E:/ks-grupowy/Ksiegarnia-main/frontend/src/screens/ProductScreen.js"],"sourcesContent":["import { useNavigate, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useContext, useEffect, useReducer } from \"react\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport Badge from \"react-bootstrap/Badge\";\nimport Button from \"react-bootstrap/Button\";\nimport Rating from \"../components/Rating\";\nimport { Helmet } from \"react-helmet-async\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { getError } from \"../utils\";\nimport { Store } from \"../Store\";\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case \"FETCH_REQUEST\":\n            return {...state, loading: true };\n        case \"FETCH_SUCCESS\":\n            return {...state, product: action.payload, loading: false };\n        case \"FETCH_FAIL\":\n            return {...state, loading: false, error: action.payload };\n        default:\n            return state;\n    }\n};\n\nfunction ProductScreen() {\n    const navigate = useNavigate();\n    const params = useParams();\n    const { slug } = params;\n    const [{ loading, error, product }, dispatch] = useReducer(reducer, {\n        product: [],\n        loading: true,\n        error: \"\",\n    });\n    useEffect(() => {\n        const fetchData = async() => {\n            dispatch({ type: \"FETCH_REQUEST\" });\n            try {\n                const result = await axios.get(`/api/products/slug/${slug}`);\n                dispatch({ type: \"FETCH_SUCCESS\", payload: result.data });\n            } catch (err) {\n                dispatch({ type: \"FETCH_FAIL\", payload: getError(err) });\n            }\n        };\n        fetchData();\n    }, [slug]);\n\n    const { state, dispatch: ctxDispatch } = useContext(Store);\n    const { cart } = state;\n    const addToCartHandler = async() => {\n        const existItem = cart.cartItems.find((x) => x._id === product._id);\n        const quantity = existItem ? existItem.quantity + 1 : 1;\n        const { data } = await axios.get(`/api/products/${product._id}`);\n        if (data.countInStock < quantity) {\n            window.alert(\"Przepraszamy, produkt nie znajduje się w magazynie\");\n            return;\n        }\n        ctxDispatch({\n            type: \"CART_ADD_ITEM\",\n            payload: {...product, quantity },\n        });\n        navigate(\"/cart\");\n    };\n\n    return loading ? ( <\n        LoadingBox / >\n    ) : error ? ( <\n        MessageBox variant = \"danger\" > { error } < /MessageBox>\n    ) : ( <\n        div >\n        <\n        Row >\n        <\n        Col md = { 6 } >\n        <\n        img className = \"img-large\"\n        src = { product.image }\n        alt = { product.name } >\n        < /img> <\n        /Col> <\n        Col md = { 6 } >\n        <\n        div className = \"star-1\" > < label > < input onChange = { useRadio }\n        id = \"first\"\n        name = \"first\"\n        value = \"first\"\n        type = \"radio\"\n        checked = { radio === 'first' }\n        /></label > < img src = { imgGoldStar } > < /img><span>1.0</span > < /div> <\n        div className = \"star-2\" > < label > < input onChange = { useRadio }\n        id = \"second\"\n        name = \"second\"\n        value = \"second\"\n        type = \"radio\"\n        checked = { radio === 'second' }\n        /></label > < img src = { imgGoldStar } > < /img><img src={imgGoldStar}></img > < span > 2.0 < /span></div >\n        <\n        div className = \"star-3\" > < label > < input onChange = { useRadio }\n        id = \"third\"\n        name = \"third\"\n        value = \"third\"\n        type = \"radio\"\n        checked = { radio === 'third' }\n        /></label > < img src = { imgGoldStar } > < /img><img src={imgGoldStar}></img > < img src = { imgGoldStar } > < /img><span>3.0</span > < /div> <\n        div className = \"star-4\" > < label > < input onChange = { useRadio }\n        id = \"four\"\n        name = \"four\"\n        value = \"four\"\n        type = \"radio\"\n        checked = { radio === 'four' }\n        /></label > < img src = { imgGoldStar } > < /img><img src={imgGoldStar}></img > < img src = { imgGoldStar } > < /img><img src={imgGoldStar}></img > < span > 4.0 < /span></div >\n        <\n        div className = \"star-5\" > < label > < input onChange = { useRadio }\n        id = \"five\"\n        name = \"five\"\n        value = \"five\"\n        type = \"radio\"\n        checked = { radio === 'five' }\n        /></label > < img src = { imgGoldStar } > < /img><img src={imgGoldStar}></img > < img src = { imgGoldStar } > < /img><img src={imgGoldStar}></img > < img src = { imgGoldStar } > < /img><span>5.0</span > < /div> <\n        button className = \"btn btn-primary\"\n        onClick = { markBook } > Wyślij ocenę < /button> {\n            showInfoBook === true ? < > < div className = \"alert alert-success\" > Książka została oceniona < /div><button className=\"btn btn-primary\" onClick={displayAlert}>Ok</button > < /> : null}\n\n            <\n            /Col> <\n            Col md = { 3 } >\n                <\n                ListGroup variant = \"flush\" >\n                <\n                ListGroup.Item >\n                <\n                Helmet >\n                <\n                title > { product.title } < /title> <\n                /Helmet> <\n                h1 > { product.title } < /h1> <\n                /ListGroup.Item> <\n                ListGroup.Item >\n                <\n                Rating\n            rating = { product.rating }\n            numReviews = { product.numReviews } >\n                < /Rating> <\n                /ListGroup.Item> <\n                ListGroup.Item > Cena: { product.price }\n            PLN < /ListGroup.Item> <\n                ListGroup.Item >\n                Opis:\n                <\n                p > { product.description } < /p> <\n                /ListGroup.Item> <\n                /ListGroup> <\n                /Col> <\n                Col md = { 3 } >\n                <\n                Card >\n                <\n                Card.Body >\n                <\n                ListGroup variant = \"flush\" >\n                <\n                ListGroup.Item >\n                <\n                Row >\n                <\n                Col > Cena: < /Col> <\n                Col > PLN { product.price } < /Col> <\n                /Row> <\n                /ListGroup.Item> <\n                ListGroup.Item >\n                <\n                Row >\n                <\n                Col > Status: < /Col> <\n                Col > {\n                    product.countInStock > 0 ? ( <\n                        Badge bg = \"success\" > W Magazynie < /Badge>\n                    ) : ( <\n                        Badge bg = \"danger\" > Niedostępne < /Badge>\n                    )\n                } <\n                /Col> <\n                /Row> <\n                /ListGroup.Item>\n\n            {\n                product.countInStock > 0 && ( <\n                    ListGroup.Item >\n                    <\n                    div className = \"d-grid\" >\n                    <\n                    Button onClick = { addToCartHandler }\n                    variant = \"primary\" >\n                    Dodaj do koszyka <\n                        /Button> <\n                        /div> <\n                        /ListGroup.Item>\n                )\n            } <\n            /ListGroup> <\n            /Card.Body> <\n            /Card> <\n            /Col> <\n            /Row> <\n            /div>\n        );\n    }\n    export default ProductScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module"}